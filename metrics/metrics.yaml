- metric-name: "buffered_read/download_block_latency"
  description: "The cumulative distribution of block download latencies, along with status: successful, cancelled, or failed."
  unit: "us"
  type: "int_histogram"
  boundaries: &common_boundaries
  - 1
  - 2
  - 3
  - 4
  - 5
  - 6
  - 8
  - 10
  - 13
  - 16
  - 20
  - 25
  - 30
  - 40
  - 50
  - 65
  - 80
  - 100
  - 130
  - 160
  - 200
  - 250
  - 300
  - 400
  - 500
  - 650
  - 800
  - 1000
  - 2000
  - 5000
  - 10000
  - 20000
  - 50000
  - 100000
  attributes:
  - attribute-name: status
    attribute-type: string
    values:
    - "successful"
    - "cancelled"
    - "failed"

- metric-name: "buffered_read/fallback_trigger_count"
  description: "The cumulative number of times the BufferedReader falls back to a different reader, along with the reason: random_read_detected or insufficient_memory."
  type: "int_counter"
  attributes:
  - attribute-name: reason
    attribute-type: string
    values:
    - "random_read_detected"
    - "insufficient_memory"

- metric-name: "buffered_read/read_latency"
  description: "The cumulative distribution of latencies for ReadAt calls served by the buffered reader."
  unit: "us"
  type: "int_histogram"
  boundaries: *common_boundaries

- metric-name: "buffered_read/scheduled_block_count"
  description: "The cumulative number of scheduled download blocks, along with their final status: successful, cancelled, or failed."
  type: "int_counter"
  attributes:
  - attribute-name: status
    attribute-type: string
    values:
    - "successful"
    - "cancelled"
    - "failed"

- metric-name: "file_cache/read_bytes_count"
  description: "The cumulative number of bytes read from file cache along with read type - Sequential/Random"
  unit: "By"
  type: "int_counter"
  attributes:
  - attribute-name: read_type
    attribute-type: string
    values: &read_types_list
    - "Parallel"
    - "Random"
    - "Sequential"

- metric-name: "file_cache/read_count"
  description: "Specifies the number of read requests made via file cache along with type - Sequential/Random and cache hit - true/false"
  type: "int_counter"
  attributes:
  - attribute-name: cache_hit
    attribute-type: bool
  - attribute-name: read_type
    attribute-type: string
    values: *read_types_list

- metric-name: "file_cache/read_latencies"
  description: "The cumulative distribution of the file cache read latencies along with cache hit - true/false."
  type: "int_histogram"
  unit: "us"
  boundaries: *common_boundaries
  attributes:
  - attribute-name: cache_hit
    attribute-type: bool

- metric-name: "fs/ops_count"
  description: "The cumulative number of ops processed by the file system."
  type: "int_counter"
  attributes:
  - attribute-name: fs_op
    attribute-type: string
    values: &fs_ops_list
    - "BatchForget"
    - "CreateFile"
    - "CreateLink"
    - "CreateSymlink"
    - "Fallocate"
    - "FlushFile"
    - "ForgetInode"
    - "GetInodeAttributes"
    - "GetXattr"
    - "ListXattr"
    - "LookUpInode"
    - "MkDir"
    - "MkNode"
    - "OpenDir"
    - "OpenFile"
    - "ReadDir"
    - "ReadDirPlus"
    - "ReadFile"
    - "ReadSymlink"
    - "ReleaseDirHandle"
    - "ReleaseFileHandle"
    - "RemoveXattr"
    - "Rename"
    - "RmDir"
    - "SetInodeAttributes"
    - "SetXattr"
    - "StatFS"
    - "SyncFS"
    - "SyncFile"
    - "Unlink"
    - "WriteFile"

- metric-name: "fs/ops_error_count"
  description: "The cumulative number of errors generated by file system operations."
  type: "int_counter"
  attributes:
  - attribute-name: fs_error_category
    attribute-type: string
    values:
    - "DEVICE_ERROR"
    - "DIR_NOT_EMPTY"
    - "FILE_DIR_ERROR"
    - "FILE_EXISTS"
    - "INTERRUPT_ERROR"
    - "INVALID_ARGUMENT"
    - "INVALID_OPERATION"
    - "IO_ERROR"
    - "MISC_ERROR"
    - "NETWORK_ERROR"
    - "NOT_A_DIR"
    - "NOT_IMPLEMENTED"
    - "NO_FILE_OR_DIR"
    - "PERM_ERROR"
    - "PROCESS_RESOURCE_MGMT_ERROR"
    - "TOO_MANY_OPEN_FILES"
  - attribute-name: fs_op
    attribute-type: string
    values: *fs_ops_list

- metric-name: "fs/ops_latency"
  description: "The cumulative distribution of file system operation latencies"
  type: "int_histogram"
  unit: "us"
  boundaries: *common_boundaries
  attributes:
  - attribute-name: fs_op
    attribute-type: string
    values: *fs_ops_list

- metric-name: "gcs/download_bytes_count"
  description: "The cumulative number of bytes downloaded from GCS along with type - Sequential/Random"
  unit: "By"
  type: "int_counter"
  attributes:
  - attribute-name: read_type
    attribute-type: string
    values: *read_types_list

- metric-name: "gcs/read_bytes_count"
  description: "The cumulative number of bytes read from GCS objects."
  unit: "By"
  type: "int_counter"

- metric-name: "gcs/read_count"
  description: "Specifies the number of gcs reads made along with type - Sequential/Random"
  type: "int_counter"
  attributes:
  - attribute-name: read_type
    attribute-type: string
    values: *read_types_list

- metric-name: "gcs/reader_count"
  description: "The cumulative number of GCS object readers opened or closed."
  type: "int_counter"
  attributes:
  - attribute-name: io_method
    attribute-type: string
    values:
    - "closed"
    - "opened"
    - "ReadHandle"

- metric-name: "gcs/request_count"
  description: "The cumulative number of GCS requests processed along with the GCS method."
  type: "int_counter"
  attributes:
  - attribute-name: gcs_method
    attribute-type: string
    values: &gcs_method_list
    - "ComposeObjects"
    - "CopyObject"
    - "CreateAppendableObjectWriter"
    - "CreateFolder"
    - "CreateObject"
    - "CreateObjectChunkWriter"
    - "DeleteFolder"
    - "DeleteObject"
    - "FinalizeUpload"
    - "FlushPendingWrites"
    - "GetFolder"
    - "ListObjects"
    - "MoveObject"
    - "MultiRangeDownloader::Add"
    - "NewMultiRangeDownloader"
    - "NewReader"
    - "RenameFolder"
    - "StatObject"
    - "UpdateObject"

- metric-name: "gcs/request_latencies"
  description: "The cumulative distribution of the GCS request latencies."
  type: "int_histogram"
  unit: "ms"
  boundaries: *common_boundaries
  attributes:
  - attribute-name: gcs_method
    attribute-type: string
    values: *gcs_method_list

- metric-name: "gcs/retry_count"
  description: "The cumulative number of retry requests made to GCS."
  type: "int_counter"
  attributes:
  - attribute-name: retry_error_category
    attribute-type: string
    values:
    - "OTHER_ERRORS"
    - "STALLED_READ_REQUEST"
